#include "pch.h"

cpu_rt::cpu_rt()
{
	index = -1;
	sortedIndex = 1;
	dead = false;

	Destroy();
}

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

void cpu_rt::Create(int width, int height, bool useDepth)
{
	width = width;
	height = height;
	aspectRatio = float(width) / float(height);
	pixelCount = width * height;
	stride = width * 4;
	widthHalf = width * 0.5f;
	heightHalf = height * 0.5f;
	colorBuffer.resize(pixelCount);
	depth = useDepth;
	if ( depth )
		depthBuffer.resize(pixelCount);
	else
		depthBuffer.clear();
}

void cpu_rt::Destroy()
{
	width = 0;
	height = 0;
	pixelCount = 0;
	stride = 0;
	widthHalf = 0;
	heightHalf = 0;
	depth = false;
	colorBuffer.clear();
	depthBuffer.clear();
}
