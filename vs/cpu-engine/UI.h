#pragma once

struct cpu_texture
{
	byte* bgra;
	int width;
	int height;
	int count;
	int size;

	cpu_texture();
	~cpu_texture();

	bool Load(const char* path);
	void Close();
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct cpu_sprite : public cpu_object
{
	cpu_texture* pTexture;
	int x;
	int y;
	int z;
	int anchorX;
	int anchorY;
	bool visible;

	cpu_sprite();

	void CenterAnchor();
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct cpu_glyph
{
	int x = 0, y = 0, w = 0, h = 0;
	bool valid = false;
};

////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

struct cpu_font
{
	int first;
	int last;
	int count;

	int cellW;
	int cellH;
	int advance;

	int width;
	int height;

	std::vector<byte> bgra;

	cpu_glyph glyph[256];

	cpu_font();
	bool Create(float size = 0.04f, XMFLOAT3 color = CPU_WHITE, const char* fontName = "Consolas", int cellW = -1, int cellH = -1, int firstChar = 32, int lastChar = 255);
};
